<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Evaluation page test</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
	</head>
	<body>
		<main>
			<!--	
					ALLOW /DENY GET POST DELETE UNKNOWN
					CGI POST AND GET
					CHECK TIMEOUT
					LIST DIRECTORY
					REDIRECTION
					COOKIE
			-->
			<div class="container text-center">
				<div class="row justify-content-md-center">
					<div class="col-sm-8">
						<div class="accordion accordion-flush" id="accordionFlushExample">
							<!-- CGI PHP -->
							<div class="accordion-item">
								<h2 class="accordion-header">
									<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
										CGI PHP
									</button>
								</h2>
								<div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
									<div class="accordion-body">Redirigige vers un page php. Le serveur fait appel a l'application php via un fork en lui transmettant le fichier .php en parametre et les variables d'environements.</div>
									<form action="/php"><button type="submit" class="btn btn-primary">Launch PHP</button></form><br/>
									<div class="accordion-body">Test session on php-cgi.</div>
									<form action="/php/sessionPHP.php"><button type="submit" class="btn btn-primary">Test session</button></form><br/>
									<div class="accordion-body">Connect to a database.</div>
									<form action="/php/adminer.php"><button type="submit" class="btn btn-primary">Connect</button></form><br/>
								</div>
							</div>
							<!-- CGI Python3 -->
							<div class="accordion-item">
								<h2 class="accordion-header">
									<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
										CGI Python3
									</button>
								</h2>
								<div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
									<div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the second item's accordion body. Let's imagine this being filled with some actual content.</div>
									<form action="/python"><button type="submit" class="btn btn-primary">Launch Python3</button></form><br/>
									<div class="accordion-body">Here you can test the cgi with a post method.</div>
									<form action="/python/test2.py" method="POST"  enctype="text/plain"><textarea name="test" rows="5" cols="33">Type your text here...</textarea><br/><button type="submit" class="btn btn-primary">Launch POST Python3</button></form><br/>
								</div>
							</div>
							<!-- CGI C/CPP -->
							<div class="accordion-item">
								<h2 class="accordion-header">
									<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
										CGI C/CPP
									</button>
								</h2>
							<div id="flush-collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
								<div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the third item's accordion body. Nothing more exciting happening here in terms of content, but just filling up the space to make it look, at least at first glance, a bit more representative of how this would look in a real-world application.</div>
								<form action="/cpp"><button type="submit" class="btn btn-primary">Launch C/CPP</button></form><br/>
								</div>
							</div>
							<!-- Redirection -->
							<div class="accordion-item">
								<h2 class="accordion-header">
									<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
										Redirection
									</button>
								</h2>
							<div id="flush-collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
								<div class="accordion-body">Call a request where location do a redirection 301.</div>
								<form action="/redir"><button type="submit" class="btn btn-primary">To intra42</button></form><br/>
								<form action="/redira"><button type="submit" class="btn btn-primary">Google is your friend</button></form><br/>
								</div>
							</div>
							<!-- Page Not Found CHECK ERROR CODE-->
							<div class="accordion-item">
								<h2 class="accordion-header">
									<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFive" aria-expanded="false" aria-controls="flush-collapseFive">
										Check ERROR
									</button>
								</h2>
							<div id="flush-collapseFive" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
								<div class="accordion-body">Call a wrong page in repertory, usually return a error 404, if file exist, it should return the file.</div>
								<form action="/pasla.html"><button type="submit" class="btn btn-primary">404</button></form>
								<div class="accordion-body">Method not allowed 405.</div>
								<form action="/index.html" method="POST"><input type="hidden" /><button type="submit" class="btn btn-primary">405</button></form><br/>
								<div class="accordion-body">500 Internal Server Error. We launch a binary not compatible with the system, this make a crash also the server send a internal error.</div>
								<form action="/bad_sys" method="PUT"><button type="submit" class="btn btn-primary">500</button></form><br/>
								<div class="accordion-body">Method not implemented 501.</div>
								<form id="form-put" action="/"><button type="submit" id="btn-put" class="btn btn-primary">501</button></form><br/>
								</div>
							</div>
							<!-- Send a file! -->
							<div class="accordion-item">
								<h2 class="accordion-header">
									<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseSix" aria-expanded="false" aria-controls="flush-collapseSix">
										Send file
									</button>
								</h2>
							<div id="flush-collapseSix" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
								<div class="accordion-body">Select a file to be sent to the server. The file will be stored in the directory given by the config file.</div>
								<form action="/post_body" method="post" enctype="multipart/form-data">
									<div class="container text-center"></div>
									<input type="text" id="fname" name="fname"><br><br>
									<input type="file" class="btn btn-secondary" name="fichier"/><br><br>
									<input type="file" class="btn btn-secondary" name="fichier2"/><br><br>
									<input type="file" class="btn btn-secondary" name="fichier3"/><br><br>
									<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
										Send
									</button>
									<!-- Modal -->
									<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
											<h1 class="modal-title fs-5" id="exampleModalLabel">Warning</h1>
											<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
											</div>
											<div class="modal-body">
											Make sure you have enough disk place on your session!
											</div>
											<div class="modal-footer">
											<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
											<button type="submit" value="Submit" class="btn btn-primary">Send file</button>
											</div>
										</div>
										</div>
									</div>
								</form>
								<form action="/upload" method="get"><button type="submit" class="btn btn-primary">See folder</button></form><br/>
								<br/>
							</div>
							</div>
							<!-- Next test -->
							<div class="accordion-item">
								<h2 class="accordion-header">
									<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseSeven" aria-expanded="false" aria-controls="flush-collapseSeven">
										Cookie test
									</button>
								</h2>
							<div id="flush-collapseSeven" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
								<div class="accordion-body">Set the name and value of your cookie click on "Make", and after that click on test.
									Test part call a script, read all cookie set and return a tab in a page.</div>
									<form action="/setcookie.py" methode="get">
										<p>Cookie name:</p>
										<input type="text" name="cname"/></br>
										<p>Cookie value:</p>
										<input type="text" name="cval"/></br></br>
										<button type="submit" class="btn btn-primary">Make</button>
									</form>
								</br>
									<form action="/seecookie.py">
										<button type="submit" class="btn btn-primary">Test</button>
									</form>
								</div>
							</div>
							<div class="accordion-item">
								<h2 class="accordion-header">
									<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEight" aria-expanded="false" aria-controls="flush-collapseEight">
										Time out
									</button>
								</h2>
							<div id="flush-collapseEight" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
								<div class="accordion-body">Call a script that waits 30sec. this creates a time-out, the server returns an error.</div>
									<form action="/php/wait.php" methode="get">
										<button type="submit" class="btn btn-primary">Time!</button>
									</form>
								</br>
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-4">
						<img src="image.png" alt="blabla image"/>
					</div>
				</div>
			</div>
		</main>
		<script>
			let formPut = document.getElementById("form-put");
			formPut.addEventListener("submit", function(event) {
				event.preventDefault();
				let options = {method: "PUT"};
				fetch("/", options)
				.then(response => {})
				.catch(error => console.error(error));
				});
		</script>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
	</body>
</html>
