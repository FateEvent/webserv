http {
	max_client			1234;
	max_buff			1000000;#fsdfsdsdf
	time_out			120;
	root				/Users/stissera/Desktop/42/webserv/site/Matrox;
	default				0.0.0.0;
	index_page			index.html;
	error_page			404 /Users/stissera/Desktop/42/webserv/site/404b.html;
	error_page			500 500.html;
	error_page			501 501.html;
	listen				8080;
}

# test
server {
	name				test.fr;
	host				127.0.0.1:20800;
	#cgi				.php /bin/php;
	#cgi				.py /bin/python3;
	#cgi				.rb		/bin/ruby;
	allow				GET POST;
	protocol			IPV4;
	type				tcp;
	max_client			10;
	#error_page			404 /Users/stissera/Desktop/42/webserv/site/404.html;
	error_page			500 500.html;
	error_page			501 501.html;
	root				/Users/stissera/Desktop/42/webserv/site/Matrox;
	index_page			index.html;
	location /cgi	{
		allow			GET POST;
		root			/Users/stissera/Desktop/42/webserv/site/web;
		cgi				.php /Users/stissera/Desktop/42/webserv/site/eval/cgi_tester;
	};
	location /python {
		root			/Users/stissera/Desktop/42/webserv/site;
		index_page		test.py;
		cache-control	true;
		cgi				.py /bin/python3;
	};
}

# test
server {
	name				eval.fr;
	host				10.12.2.13:20801;
	cgi					.php /usr/bin/php;
	#cgi				.py /bin/python3;
	#cgi				.rb		/bin/ruby;
	allow				GET POST;
	protocol			IPV4;
	type				tcp;
	max_client			2;
	max_body_size		10000;
	#return				http://10.12.2.13:20802/video.html;
	error_page			404 /Users/stissera/Desktop/42/webserv/site/404.html;
	error_page			500 500.html;
	error_page			501 501.html;
	root				/Users/stissera/Desktop/42/webserv/site/web;
	index_page			index.php;
	location	/redir	{
		return			http://www.google.fr;
	};
	location /cgi	{
		allow			GET POST;
		root			/Users/stissera/Desktop/42/webserv/site/web;
		cgi				.php /Users/stissera/Desktop/42/webserv/site/eval/ubuntu_cgi_tester;
	};
	location /python {
		root			/Users/stissera/Desktop/42/webserv/site;
		index_page		test.py;
		cache-control	true;
		cgi				.py /usr/bin/python3;
	};
}

server {
	name				test3.fr;
	host				10.12.2.13:20802;
	protocol			IPV4;
	type				tcp;
	#allow				POST;
	max_client			4;
	error_page			404 /Users/stissera/Desktop/42/webserv/site/404.html;
	error_page			500 500.html;
	error_page			501 501.html;
	root				/Users/stissera/Desktop/42/webserv/site;
	index_page			index.html;
#	cgi					.out /Users/stissera/Desktop/42/webserv/site/cgit.out;
#	cgi					.php /usr/bin/php;
	location /first {
		root 			/Users/stissera/Desktop/42/webserv/site/loc1;
		index_page		test.html;
		cache-control	true;
		error_page		404 /Users/stissera/Desktop/42/webserv/site/loc1/404.html;
		error_page		500 500.html;
		error_page		501 501.html;
	};
	location /cgi-tester {
		root			/Users/stissera/Desktop/42/webserv/site;
		index_page		cgi_tester.out;
		cache-control	true;
		error_page		404 /Users/stissera/Desktop/42/webserv/site/4042.html;
		cgi				.out /Users/stissera/Desktop/42/webserv/site/cgi_tester.out;
	};
	location /python {
		root			/Users/stissera/Desktop/42/webserv/site;
		index_page		test.py;
		cache-control	true;
		cgi				.py /usr/local/bin/python3;
	};
	location /cpp {
		root			/Users/stissera/Desktop/42/webserv/site;
		index_page		cgit.out;
		cache-control	true;
		cgi				.out /Users/stissera/Desktop/42/webserv/site/cgit.out;
	};
	location /php {
		root			/Users/stissera/Desktop/42/webserv/site;
		index_page		test.php;
		cache-control	true;
		cgi				.php /usr/bin/php; #cgi				.py 127.0.0.1:9000;
	};
}

server
{
	name				test4.com;
	host				10.12.2.13:20803 tcp;
	proxy				localhost:8081;
	root				/Users/stissera/Desktop/42/webserv/site;
	index_page			index.html;
	location /first {
		root 			/Users/stissera/Desktop/42/webserv/site/loc1;
		index_page		test.html;
		cache-control	true;
		error_page		404 /Users/stissera/Desktop/42/webserv/site/loc1/404.html;
		error_page		500 500.html;
		error_page		501 501.html;
	};
	location /video {
		root			/Users/stissera/Desktop/42/webserv/site;
		index_page		cgit.out;
		cache-control	true;
		cgi				.out /Users/stissera/Desktop/42/webserv/site/cgit.out;
	};
	location /second /test {
		redirect		http://google.fr;
	};
	location /hallo {
		root			/Users/stissera/Desktop/42/webserv/site;
		index_page		test.php;
		cache-control	true;
		cgi				.php /usr/bin/php; #cgi				.py 127.0.0.1:9000;
	};
}

server
{
	name				eval.com;
	host				10.12.2.13:20805 tcp;
	root				/Users/stissera/Desktop/42/webserv/site/eval;
	index_page			index.html;
	location / {
		allow			GET;
		cgi				/Users/stissera/Desktop/42/webserv/site/eval/cgi_tester;
	};
	location /put_test/ {
		cgi				/Users/stissera/Desktop/42/webserv/site/eval/cgi_tester;
	};
	location /	.bla {
		allow			POST;
		cgi				/Users/stissera/Desktop/42/webserv/site/eval/cgi_tester;
	};
	location /post_body {
		allow			POST;
		max_body		100;
		cgi				/Users/stissera/Desktop/42/webserv/site/eval/cgi_tester;
	};
	location /directory/ {
		allow			GET;
		max_body		100;
		cgi				/Users/stissera/Desktop/42/webserv/site/eval/cgi_tester;
		root			/Users/stissera/Desktop/42/webserv/site/eval/YoupiBanane;
		
	};
	location /redir/ {
		return			https://projects.intra.42.fr/; #END
	};
}
